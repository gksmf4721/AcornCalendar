<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"  layout:decorate="~{fragments/layout/main_layout}">
    <th:block layout:fragment="mainContent">
        <div class="main_content">
            <!--회원 마이페이지-->
            <div class="main_item">
                <div class="w_title">
                    <div class="w_left"><a href="/mypage.do" target="_self">MYPAGE</a></div>
                    <div class="w_right">
                        <div class="box">
                            <img th:src="@{../img/attach/min.png}">
                            <img th:src="@{../img/attach/max.png}">
                            <img th:src="@{../img/attach/close.png}">
                        </div>
                    </div>
                </div>
                <div class="w_photo">
                    <img th:src="@{/img/icon/instagram.png}" style="width:70%; height:100%; margin:0 15%" alt="회원사진">
                </div>
                <div class="w_info">
                    <p class="w_nick">회원 이름</p>
                    <p>회원 이메일@naver.com</p>
                </div>
            </div>

            <!--회원 알림과 메일-->
            <div class="main_item">
                <div class="w_title">
                    <div class="w_right">
                        <div class="box">
                            <img th:src="@{../img/attach/min.png}">
                            <img th:src="@{../img/attach/max.png}">
                            <img th:src="@{../img/attach/close.png}">
                        </div>
                    </div>
                </div>
                <ul class="tabmenu left">
                    <li class="tabl on" id="alarm"><a href="javascript:;" onclick="tab('alarm')">ALARM</a></li>
                    <li class="tabl" id="message"><a href="javascript:;"onclick="tab('message')">MESSAGE</a></li>
                </ul>
                <div class="tableScroll on" id="alarmTable">
                    <table class="tableTab">
                        <colgroup>
                            <col style="width:75%">
                            <col style="width:25%">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>내용</th>
                                <th>시간</th>
                            </tr>
                        </thead>
                        <tbody id="grid1">
                            <tr>
                                <td class="txtl">알림이에요</td>
                                <td class="txtl">11-13 13:40</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 할일이에요가나다라마바사아자차카타파하아야어여요오요우우ㅡ유이이</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="tableScroll" id="messageTable">
                    <table class="tableTab" >
                        <colgroup>
                            <col style="width:76%">
                            <col style="width:24%">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>내용</th>
                                <th>시간</th>
                            </tr>
                        </thead>
                        <tbody id="grid1">
                            <tr>
                                <td class="txtl">메시지가 왔습니다</td>
                                <td class="txtl">11-13 00:40</td>
                            </tr>
                            <tr>
                                <td class="txtl">내일 메시지에여</td>
                                <td class="txtl">88-88 88:88</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!--회원 캘린더-->
            <div class="main_item">
                <div class="w_title">
                    <div class="w_left"><a href="/calendarList.do" target="_self">CALENDAR</a></div>
                    <div class="w_right">
                        <div class="box">
                            <img th:src="@{../img/attach/min.png}">
                            <img th:src="@{../img/attach/max.png}">
                            <img th:src="@{../img/attach/close.png}">
                        </div>
                    </div>
                </div>
                <!-- calendar 태그 -->
                <div class='calendar_container'>
                    <div id='calendar' style="margin:1em" class="mainType"></div>
                </div>
            </div>
        </div>
        
<script>
function tab(idVal){
    $(".tabl").removeClass('on');
    $("#"+idVal).addClass('on');
    $(".tableScroll").removeClass('on');
    $("#"+idVal + "Table").addClass('on');
}

//캘린더 헤더 옵션
const headerToolbar = {
    start: 'today,prevYear,nextYear',                    //왼쪽   : prevYear(작년),prev(전월),next(다음월),nextYear(내년)
    center: 'prev,title,next',                           //가운데 : 타이틀(YYYY년 MM월)
    end: 'dayGridMonth,dayGridWeek,timeGridDay'          //오른쪽 : dayGridMonth(월),week(주),day(일)
};

    //캘린더 생성 옵션
const calendarOption = {
    height: '730px',                                    //높이 설정
    initialView : 'dayGridMonth',                       //초기 로드 될때 보이는 캘린더 화면 (기본 설정 : 달)
    headerToolbar : headerToolbar,                      //헤더 툴바 설정
    locale: "ko",                                       //한글로 변경
    eventLimit : true,                                  //달력에 셀보다 많은 이벤트가 등록된 경우, 'more'로 표기함
    weekends : true,                                    //초기에 주말 보이기
    dayMaxEvents: true,                                 //이벤트가 많이 추가되면 높이 제한
    //기존 이벤트 가져오기
    events: function (info, successCallback, failureCallback) {
        $.ajax({
            type : "get",
            url : "/json/calendarEvent.json",
            success : function(response){
                successCallback(response);
            },
            error : function(err){
                failureCallback(err);
            }
        });
    },
}

document.addEventListener('DOMContentLoaded', function(){
    var calendarEl = document.getElementById('calendar'); // calendar 요소 가져오기
    var calendar = new FullCalendar.Calendar(calendarEl, calendarOption);   //옵션 넣은 calendar 요소 가져오기
    calendar.render();      //calendar 렌더링
});
</script>
</th:block>